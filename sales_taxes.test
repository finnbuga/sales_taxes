<?php
class SalesTaxesUnitTestCase extends DrupalUnitTestCase {
  public static function getInfo() {
    return array(
      'name' => 'Sales Taxes unit tests',
      'description' => 'Test that the core logic works properly',
      'group' => 'Sales Taxes',
    );
  }

  function testBasicSalesTaxOnA30DollarsCDis3() {
    // Given
    $product = 'CD';
    $price = 30;

    // Solution
    $basic_sales_tax = sales_taxes_get_basic_sales_tax($product, $price);

    // Then
    $this->assertEqual($basic_sales_tax, 3);
  }

  function testBasicSalesTaxOnA20DollarsBookis0() {
    // Given
    $product = 'book';
    $price = 20;

    // Solution
    $basic_sales_tax = sales_taxes_get_basic_sales_tax($product, $price);

    // Then
    $this->assertEqual($basic_sales_tax, 0);
  }

  function testImportDutyOnA40DollarsImportedCDis2() {
    // Given
    $product = 'CD';
    $price = 40;
    $imported = true;

    // Solution
    $import_duty = sales_taxes_get_import_duty($price, $imported);

    // Then
    $this->assertEqual($import_duty, 2);
  }

  function testImportDutyOnA40DollarsCDis0() {
    // Given
    $product = 'CD';
    $price = 40;
    $imported = false;

    // Solution
    $import_duty = sales_taxes_get_import_duty($price, $imported);

    // Then
    $this->assertEqual($import_duty, 0);
  }
}
